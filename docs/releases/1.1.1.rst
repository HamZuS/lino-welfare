==========================
Version 1.1.1
==========================

Release process started Thursday, 21 March 2013

List of changes
===============

New features
------------

- Einfügetexte funktionieren jetzt wieder.

- Es gibt jetzt die Notion von :ref:`welfare.users.Teams`.
  Diese entsprechen (momentan) exakt den "Diensten" 
  (:ref:`welfare.clients.CoachingType`).

- Im Kalendermodul habe ich die Team-Mitgliedschaften ersetzt 
  durch diese Benutzergruppen (diese Funktionalität wurde bisher 
  nicht benutzt, insofern hatte ich da keine Skrupel).
  
- Schuldnerberatung: Die Auswahlliste der Konten war schon immer 
  nach der Kontonummer ("Referenz") sortiert, aber dieses Feld 
  war nirgendwo sichtbar. Jetzt überall: 
  bei der Auswahl, bei der Konfigurierung... und sogar beim Ausdruck.
  
  Neues Site-Setting `accounts_ref_length` steht für Lino-Welfare 
  standardmäßig auf 5.
  
  

Optimizations
-------------

- Internal renames

Bugfixes
--------


Upgrading existing sites
========================

- If you have production data to migrate, you must make a full 
  Python backup *before* the upgrade::
  
    $ manage.py dumpdata --format=py > fixtures/backup.py

- pip install -U lino_welfare

- In your local :file:`settings.py` file, change::

    from lino_welfare.modlib.pcsw.settings import *
    
  to::
  
    from lino_welfare.settings import *

- If you have production data to migrate, you must now 
  load the previously made backup using `initdb`::

    $ manage.py initdb backup
    ...
    INFO Loading /var/log/lino/backups/b20130327_204618.py...
    INFO Migrating from version 1.1.0 to 1.1.1:
        - cal.Calendar.invite_team_members : ignore this field
          (set manually the Team where appropriate)
        - new fields Budget.print_empty_rows, and Budget.ignore_yearly_incomes
  
