.. _welfare.tested.immersion:

===================
Immersion trainings
===================

.. How to test only this document:

  $ python setup.py test -s tests.DocsTests.test_immersion

A technical tour into the :mod:`lino_welfare.modlib.immersion` plugin.


.. contents::
   :depth: 2

About this document
===================

.. include:: /include/tested.rst

>>> from __future__ import print_function
>>> import os
>>> os.environ['DJANGO_SETTINGS_MODULE'] = \
...    'lino_welfare.projects.chatelet.settings.doctests'
>>> from lino.api.doctest import *
    
This document uses the :mod:`lino_welfare.projects.chatelet` test
database:

>>> print(settings.SETTINGS_MODULE)
lino_welfare.projects.chatelet.settings.doctests

>>> dd.today()
datetime.date(2014, 5, 22)


Configuration
=============

A system administrator can select :menuselection:`Configure -->
Integration --> Immersion training types`  to configure the list of
"immersion training types" (:class:`immersion.ContractType
<lino_welfare.modlib.immersion.models.ContractType>`).

The default data for this table is generated by the :mod:`std
<lino_welfare.modlib.immersion.fixtures.std>` fixture:

>>> rt.show(immersion.ContractTypes)  #doctest: -SKIP
===================== =========================== =====================
 Designation           Designation (fr)            Designation (de)
--------------------- --------------------------- ---------------------
 Immersion training    Stage d'immersion           Immersion training
 Internal engagement   Mise en situation interne   Internal engagement
 MISIP                 MISIP                       MISIP
===================== =========================== =====================
<BLANKLINE>


Demo data
=========

:class:`lino_welfare.modlib.immersion.models.Contract`

>>> rt.show(immersion.Contracts)
... #doctest: +ELLIPSIS +NORMALIZE_WHITESPACE -REPORT_UDIFF
==== ========================== ============== =============== ================== =========================
 ID   Client                     applies from   applies until   responsible (IS)   Immersion training type
---- -------------------------- -------------- --------------- ------------------ -------------------------
 1    ENGELS Edgar (129)         10/29/12       2/21/14         Mélanie Mélard     Immersion training
 2    ENGELS Edgar (129)         2/22/14        2/22/15         Mélanie Mélard     Immersion training
 3    LAMBERTZ Guido (142)       12/3/12        10/11/13        Alicia Allmanns    Immersion training
 4    RADERMACHER Edgard (157)   1/7/13         5/2/14          Alicia Allmanns    Immersion training
 5    RADERMACHER Edgard (157)   5/3/14         5/3/15          Hubert Huppertz    Immersion training
 6    RADERMECKER Rik (173)      2/11/13        12/20/13        Hubert Huppertz    Immersion training
 7    RADERMECKER Rik (173)      12/21/13       12/21/14        Hubert Huppertz    Immersion training
==== ========================== ============== =============== ================== =========================
<BLANKLINE>
